schema {
  query: RootQueryType
  mutation: RootMutationType
  subscription: RootSubscriptionType
}

"""
A directive used by the Apollo iOS client to annotate operations or fragments that should be used exclusively for generating local cache mutations instead of as standard operations.
"""
directive @apollo_client_ios_localCacheMutation on QUERY | MUTATION | SUBSCRIPTION | FRAGMENT_DEFINITION

"""
Directs the executor to defer this fragment when the `if` argument is true or undefined.
"""
directive @defer(
  """Deferred when true or undefined."""
  if: Boolean

  """Unique name"""
  label: String
) on FRAGMENT_SPREAD | INLINE_FRAGMENT

""""""
type Source {
  """"""
  Cover: String!

  """"""
  Id: String!

  """"""
  Name: String!
}

""""""
input ReactionMessageInput {
  """"""
  From: UserInput

  """"""
  Reaction: String
}

""""""
type ReactionMessage {
  """"""
  From: User

  """"""
  Reaction: String
}

""""""
type PaginatedRooms {
  """"""
  Entries: [Room]

  """"""
  Page: Int

  """"""
  PageCount: Int

  """"""
  PageSize: Int

  """"""
  TotalCount: Int

  """"""
  TotalPages: Int
}

""""""
type Room {
  """"""
  Id: String

  """"""
  Image: String

  """"""
  Key: String

  """"""
  Likes: Int

  """"""
  MediaInfo: MediaInfo

  """"""
  Name: String

  """"""
  Owner: User

  """"""
  Private: Boolean

  """"""
  Type: String
}

""""""
type RootQueryType {
  """"""
  CurrentUser: User

  """"""
  GetLastMessages(RoomId: String!): InteractiveAction

  """"""
  GetMediaInfo(RoomId: String): MediaInfo

  """"""
  GetOwnSources: [PlaylistRow]

  """"""
  GetPaginatedRooms(Page: Int = 1, PageSize: Int = 10): PaginatedRooms

  """"""
  GetPaginatedSources: [PlaylistRow]

  """"""
  GetRoom(RoomId: String!): Room

  """"""
  GetRoomByKey(Key: String!): Room

  """"""
  GetRoomPlaylist(RoomId: String!): [PlaylistRow]
}

""""""
type ReplyMessage {
  """"""
  Id: String

  """"""
  Text: String

  """"""
  UserName: String
}

""""""
type MediaInfo {
  """"""
  CurrentTimeSeconds: Float

  """"""
  DurationSeconds: Float

  """"""
  MediaAction: MediaAction

  """"""
  Play: Boolean

  """"""
  RoomId: String

  """"""
  Source: Source

  """"""
  SourceId: String
}

""""""
input MessageInput {
  """"""
  ReplyMessage: ReplyMessageInput

  """"""
  Reactions: [ReactionMessageInput]

  """"""
  Sticker: Int

  """"""
  Id: String

  """"""
  From: UserInput

  """"""
  Type: MessageType

  """"""
  Text: String
}

""""""
type InteractiveAction {
  """"""
  Message: [Message]

  """"""
  RoomReaction: Int
}

""""""
type Token {
  """"""
  Token: String!
}

""""""
type Message {
  """"""
  From: User

  """"""
  Id: String

  """"""
  Reactions: [ReactionMessage]

  """"""
  ReplyMessage: ReplyMessage

  """"""
  Sticker: String

  """"""
  Text: String

  """"""
  Type: MessageType
}

""""""
type User {
  """"""
  Avatar: String!

  """"""
  Email: String!

  """"""
  Id: String!

  """"""
  Login: String!
}

""""""
type PlaylistRow {
  """"""
  Id: String!

  """"""
  Index: Int!

  """"""
  RoomId: String!

  """"""
  Source: Source!

  """"""
  SourceId: String!
}

""""""
enum RoomType {
  """"""
  NO_TYPE

  """"""
  SINGLE

  """"""
  PLAYLIST
}

""""""
input ReplyMessageInput {
  """"""
  Id: String

  """"""
  Text: String

  """"""
  UserName: String
}

""""""
type RootSubscriptionType {
  """"""
  SubscribeChat(RoomId: String!): InteractiveAction

  """"""
  SubscribeMediaInfo(RoomId: String): MediaInfo
}

""""""
enum MessageType {
  """"""
  leaving

  """"""
  message

  """"""
  sticker

  """"""
  hidden

  """"""
  joined
}

""""""
enum MediaAction {
  """"""
  MOVE

  """"""
  CHANGE_SOURCE

  """"""
  PLAY

  """"""
  PAUSE
}

""""""
type RootMutationType {
  """"""
  AddPlaylistSource(RoomId: String!, Url: String!): [PlaylistRow]

  """"""
  CreateRoom(Private: Boolean, Type: RoomType, Name: String!, Image: String): Room

  """"""
  DeletePlaylistSource(PlaylistRowId: String!, RoomId: String!): [PlaylistRow]

  """"""
  DeleteRoom(RoomId: String!): Room

  """"""
  MovePlaylistSourcePosition(PlaylistRowId: String!, Position: Int!, RoomId: String!): [PlaylistRow]

  """"""
  RoomAction(RoomId: String, Action: MediaAction, Arg: String): Boolean

  """"""
  SendMessage(RoomId: String!, Message: MessageInput!): Boolean

  """"""
  SendRoomReaction(RoomId: String!): Int

  """"""
  SignIn(Email: String!, Password: String!): Token

  """"""
  SignUp(Password: String!, Email: String!, Login: String!): Token

  """"""
  UpdateCurrentUser(Avatar: String, Login: String): User

  """"""
  UpdateRoom(Private: Boolean, Type: RoomType, RoomId: String!, Name: String!, Image: String): Room
}

""""""
input UserInput {
  """"""
  Id: String!

  """"""
  Email: String!

  """"""
  Login: String!

  """"""
  Avatar: String!
}